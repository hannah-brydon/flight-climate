jsTagManagerJsonpCallback([5],{234:function(t,e,n){"use strict";e.a={getWindow:function(){return"undefined"!==typeof window?window:{}},getDocument:function(){return"undefined"!==typeof document?document:{}},getNavigator:function(){return"undefined"!==typeof navigator?navigator:{}}}},236:function(t,e,n){"use strict";var r=n(234);e.a=function(){var t=r.a.getWindow(),e=r.a.getDocument(),n=e.documentElement,i=e.getElementsByTagName("body")[0];return{width:t.innerWidth||n.clientWidth||i.clientWidth,height:t.innerHeight||n.clientHeight||i.clientHeight}}},237:function(t,e,n){"use strict";var r=(n(243),n(244),n(245),n(234));n(246),n(238),n(239),n(247),n(248),n(236),n(249),n(250),n(251),n(252),n(253),n(254);n.d(e,"a",function(){return r.a})},238:function(t,e,n){"use strict";var r=n(234);e.a=function(){return r.a.getNavigator().userAgent}},239:function(t,e,n){"use strict";var r=n(234),i=n(236),a=n(238),o=function(t,e){return 414===t.height&&90===Math.abs(e.orientation)},u=function(t,e){return 414===t.width&&0===e.orientation},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(a.a)(),e=Object(i.a)(),n=r.a.getWindow();return/iPhone.*Safari/i.test(t)&&!/(CriOS|OPiOS|Chrome|Edge|Firefox|FxiOS)/i.test(t)&&(o(e,n)||u(e,n))};e.a=c},240:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(237),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){r(this,t),this.DEFAULT_COOKIE_NAME="storageFallback",this.COOKIE_EXPIRY_VALUE=7776e6,this.sessionOnly=e,this.$document=i.a.getDocument()}return a(t,[{key:"getRawCookie",value:function(t){var e=this.$document.cookie.split(";"),n=e.filter(function(e){return 0===e.trim().indexOf(t)});if(!n.length)return{};var r=n[0].split("=");return 2!==r.length?null:JSON.parse(r[1])}},{key:"setRawCookie",value:function(t,e,n,r){var i=t+"="+e;if(!n){var a=r;a||(a=new Date,a.setTime(a.getTime()+this.COOKIE_EXPIRY_VALUE)),i+="; expires="+a.toUTCString()}return this.$document.cookie=i,this.$document.cookie}},{key:"getItem",value:function(t){var e=this.getRawCookie(this.DEFAULT_COOKIE_NAME);return e?JSON.stringify(e[t]):null}},{key:"setItem",value:function(t,e){var n=this.getRawCookie(this.DEFAULT_COOKIE_NAME);return n?(n[t]=JSON.parse(e),this.setRawCookie(this.DEFAULT_COOKIE_NAME,JSON.stringify(n),this.sessionOnly)):null}},{key:"createOrUpdateCookie",value:function(t,e,n){return this.setRawCookie(t,e,!1,n)}}]),t}();e.a=o},241:function(t,e,n){"use strict";var r=n(242);n(240);n.d(e,"a",function(){return r.a})},242:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(237),a=n(240),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){try{var t=i.a.getWindow(),e=t.localStorage,n=t.sessionStorage;e.setItem("__initTest__","__initValue"),n.setItem("__initTest__","__initValue")}catch(t){return!1}return!0},c=function(){function t(e){r(this,t),this.namespace=e,this.browserStorage=null}return o(t,[{key:"getBrowserStorage",value:function(t,e){var n=u(),r=i.a.getWindow();return this.browserStorage=n?e?r.sessionStorage:r.localStorage:t?new a.a(e):null,this.browserStorage}},{key:"tryGetValue",value:function(t,e,n){var r=this.getBrowserStorage(e,n);if(!r)return null;var i=r.getItem(this.namespace);if(!i)return null;if(i=JSON.parse(i),null==t)return i;for(var a=t.split("."),o=i,u=0;u<a.length;u+=1){if("undefined"===typeof(o=o[a[u]]))return null;if(u+1===a.length)return o}return null}},{key:"trySetValue",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.getBrowserStorage(n,r);if(!a)return null;var o=void 0;try{o=a.getItem(this.namespace),o=o?JSON.parse(o):{}}catch(t){return!1}for(var u=t.split("."),c=o,s=0;s<u.length;s+=1){var f=u[s];if(!(f in c)){if(i)return!1;c[f]={}}if(s+1===u.length){i?delete c[f]:c[f]=e;try{return a.setItem(this.namespace,JSON.stringify(o)),!0}catch(t){return!1}}c=c[f]}return!1}},{key:"tryDeleteValue",value:function(t,e,n){return this.trySetValue(t,null,e,n,!0)}}]),t}();e.a=c},243:function(t,e,n){"use strict";n(234)},244:function(t,e,n){"use strict";n(234)},245:function(t,e,n){"use strict";n(234)},246:function(t,e,n){"use strict";n(234)},247:function(t,e,n){"use strict";n(239),n(234),n(236)},248:function(t,e,n){"use strict"},249:function(t,e,n){"use strict";var r=n(234),i=!1,a=function(t){var e=r.a.getWindow();i?e.setTimeout(function(){return t()},0):e.addEventListener?e.addEventListener("load",t,!1):e.attachEvent&&e.attachEvent("onload",t)};a(function(){i=!0})},250:function(t,e,n){"use strict";n(234)},251:function(t,e,n){"use strict";var r=n(8);n.n(r),n(234)},252:function(t,e,n){"use strict"},253:function(t,e,n){"use strict";n(234)},254:function(t,e,n){"use strict";n(7),n(234)},49:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"criteo",function(){return _}),n.d(e,"getInOutCode",function(){return w});var r=n(7),i=n(44),a=n(241),o=function(t){var e=i.a.getWindow();if(!t||!t.event)throw new Error("event required");if(!t.id)throw new Error("id required");var n={event:t.event,id:t.id,new_customer:t.new_customer||1,deduplication:t.deduplication||0,item:t.item||[]};return e.criteo_q&&e.criteo_q.push(n)},u={AE:55781,AT:18942,AU:9736,BR:48339,CA:13385,CH:18948,CZ:18943,DE:7450,DK:7459,ES:7447,FI:17297,FR:3491,GR:18944,HK:16133,ID:21464,IE:17933,IL:46745,IN:13082,IT:7448,JP:13710,KR:21463,MX:13382,MY:14976,NL:7449,NO:7458,NZ:18568,PH:55780,PL:18572,PT:18947,RU:7446,SE:3686,SG:14979,TH:13734,TR:7444,TW:16134,UK:2936,US:18945},c={AU:24198,KR:21721,HK:21720,TW:21722,UK:14030,US:14031,FR:14026,IT:22956,RU:14029},s=["AU","KR","HK","TW","US","UK","IT","FR","RU"],f=["AU","KR","HK","TW"],d=function(t){return new Date(t).toISOString().substr(0,10)},l=function(t){var e=new Date(t).toISOString(),n=e.indexOf("T");return e.substr(n+1,5)},h=function(t){if(t)return"return"===t?"0":"1"},v=function(t){return t.isMobile?"m":t.isBrowser?"d":t.isTablet?"t":"d"},p=function(t){return{event:"setSiteType",type:v(t)}},g=function(t){return{event:"setAccount",account:t}},m=function(t){return{event:"viewItem",account:c[t.market],item:t.destinationIata,din:t.inboundDate,dout:t.outboundDate,place:"flightconversion"}},w=function(t){var e=t.originAirport||t.originId||t.originCityId,n=t.destinationAirport||t.destinationId||t.destinationCityId,r=i.a.getWindow();if(e&&n)return e+"_"+n;if("redir"===t.page&&r.utag_data){var a=r.utag_data.TransportSearch;return a.Inbound.Airport+"_"+a.Outbound.Airport}},y=function(t){return{event:"trackTransaction",account:u[t.market],id:t.redirectId,item:[{id:w(t),price:t.redirectValue||1,quantity:1}]}},O=function(t){var e=t.pickUpIataCodeCarHire,n=e&&"unknown"!==e?e:t.pickUpCityCodeCarHire;return{event:"trackTransaction",id:t.redirectId,din:t.carHirePickUpDate?d(t.carHirePickUpDate):"",dout:t.carHireDropOffDate?d(t.carHireDropOffDate):"",tin:t.carHirePickUpTime?l(t.carHirePickUpTime):"",tout:t.carHireDropOffTime?l(t.carHireDropOffTime):"",item:[{id:""+n,price:t.redirectValue||1,quantity:1}]}},C=function(t){if(!t)throw new Error("__tagmanagerProps required");var e=Object.assign({},t),n=h(e.tripType);void 0!==n&&(e.criteo_nc=n);var r=w(t);return r&&(e.combo_OutInCode=r),t.destinationCityId&&(e.destinationCityId=t.destinationCityId),e.pickUpIataCodeCarHire=t.pickUpIataCodeCarHire?t.pickUpIataCodeCarHire:0,e.dropOffIataCodeCarHire=t.dropOffIataCodeCarHire?t.dropOffIataCodeCarHire:0,e},I=function(t,e,n){var r=t.page||"",i=r.toLowerCase(),a=[];if(a.push(p(t)),"redir"!==r&&a.push(g(u[t.market])),"home"===i&&a.push({event:"viewHome"}),["day-view","month","browse"].indexOf(i)>-1&&a.push({event:"viewItem",item:t.combo_OutInCode}),"day-view"===i&&a.push({event:"viewSearch",checkin_date:t.outboundDate,checkout_date:t.inboundDate}),"redir"===i){var o=t.market?t.market.toUpperCase():"",d={};"carhire"===t.category&&s.indexOf(o)>-1?(a.push(g(c[t.market])),a.push(O(t))):"transport"===t.category&&s.indexOf(o)>-1?(f.indexOf(o)>-1&&a.push(m(t)),a.push(y(t))):(d={event:"trackTransaction",account:e,id:t.redirectId,new_customer:t.criteo_nc,item:[{id:t.combo_OutInCode,price:t.redirectValue,quantity:1}]},a.push(d))}return null!=n&&a.push({event:"setHashedEmail",m:n,hash_method:"s2m"}),a},_=function(t,e){r.a.subscribe("criteo-event",function(t){return o(t)});var n=C(t),c=new a.a("auth-storage"),s=c.tryGetValue("emhash",!1,!0),f=I(n,""+(t.market?u[t.market.toUpperCase()]:""),s),d=i.a.getWindow();d.criteo_q=d.criteo_q||[],f.forEach(function(t){d.criteo_q.push(t)}),e("//static.criteo.net/js/ld/ld.js",null,null,"anonymous")};e.default=_}});
//# sourceMappingURL=criteo-criteo.d7ade34f.chunk.js.map